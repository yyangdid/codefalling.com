<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 完美解决 Mac 下 Vim/Emacs 的输入法切换问题 · M-x codefalling</title><meta name="description" content="完美解决 Mac 下 Vim/Emacs 的输入法切换问题 - codefalling"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="https://fonts.lug.ustc.edu.cn/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><div id="mask" style="display: none;"><img id="mask-image" src="#" style=" "></div><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/codefalling" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">完美解决 Mac 下 Vim/Emacs 的输入法切换问题</h1><div class="post-time">Nov 2, 2015</div><div class="post-content">

<script>
  function editAtGithub(isRaw){
    var url_parts = document.location.pathname.split('/');
    var postname = url_parts[url_parts.length - 2];
    if(url_parts.length == 3){ // is a page(wiki about etc)
      postname = postname + '/index.org';
    }else{
      postname = '_posts/' + postname + '.org';
    }
    var url = 'https://github.com/CodeFalling/codefalling.com/tree/source/source/' + postname;
    if(isRaw)
      url = 'https://raw.githubusercontent.com/CodeFalling/codefalling.com/source/source/' + postname;
    window.open(url);
  }
</script>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">&#x80CC;&#x666F;</h2>
<div class="outline-text-2" id="text-1">
<p>
<code>vi-mode</code> &#x662F;&#x4E00;&#x79CD;&#x9AD8;&#x6548;&#x7684;&#x7F16;&#x8F91;&#x65B9;&#x5F0F;&#xFF0C;&#x4F46;&#x662F;&#x6700;&#x4EE4;&#x4EBA;&#x5934;&#x75BC;&#x7684;&#x83AB;&#x8FC7;&#x4E8E;&#x5728;&#x666E;&#x901A;&#x6A21;&#x5F0F;&#x4E0B;&#x8F93;&#x5165;&#x547D;&#x4EE4;&#x7684;&#x65F6;&#x5019;&#x5374;&#x88AB;&#x8F93;&#x5165;&#x6CD5;&#x6321;&#x4F4F;&#xFF0C;&#x5BF9;&#x4E8E;&#x6211;&#x8FD9;&#x79CD;&#x7ECF;&#x5E38;&#x5FD8;&#x8BB0;&#x5207;&#x8F93;&#x5165;&#x6CD5;&#x7684;&#x4EBA;&#x6765;&#x8BF4;&#x975E;&#x5E38;&#x75DB;&#x82E6;&#x3002;
</p>


<div class="figure">
<p><img src="/2015/11/02/fcitx-vim-for-OS-X/preview.png" alt="&#x547D;&#x4EE4;&#x88AB;&#x8F93;&#x5165;&#x6CD5;&#x5835;&#x4F4F;">
</p>
</div>

<p>
&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x8FD9;&#x79CD;&#x95EE;&#x9898;&#xFF0C;&#x5F88;&#x65E9;&#x4EE5;&#x524D;&#x5C31;&#x6709;&#x4E86; <a href="https://github.com/vim-scripts/fcitx.vim" target="_blank" rel="external">vim-scripts/fcitx.vim</a> &#xFF08;for Vim&#xFF09;&#x548C; <a href="https://github.com/cute-jumper/fcitx.el" target="_blank" rel="external">cute-jumper/fcitx.el</a> (for Emacs)&#x3002;&#x5229;&#x7528;&#x63D2;&#x4EF6;&#x548C; <code>fcitx</code> &#x8FDB;&#x884C;&#x6C9F;&#x901A;&#xFF0C;&#x8BA9;&#x8F93;&#x5165;&#x6CD5;&#x968F;&#x7740;&#x7528;&#x6237;&#x7684;&#x9700;&#x8981;&#x81EA;&#x52A8;&#x6539;&#x53D8;&#x3002;
</p>

<p>
&#x4F46;&#x662F; fcitx &#x662F; Linux only &#x7684;&#xFF0C;OS X &#x4E0B;&#x65E0;&#x6CD5;&#x4F7F;&#x7528;&#x3002;
</p>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">fcitx-remote</h2>
<div class="outline-text-2" id="text-2">
<p>
<code>fcitx-remote</code> &#x662F; fcitx &#x63D0;&#x4F9B;&#x7684;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x884C;&#x5C0F;&#x5DE5;&#x5177;&#xFF0C;&#x7528;&#x4E8E;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x4E0B;&#x63A7;&#x5236;&#x8F93;&#x5165;&#x4EE5;&#x53CA;&#x83B7;&#x53D6;&#x8F93;&#x5165;&#x6CD5;&#x72B6;&#x6001;&#x3002;&#x65E9;&#x671F;&#x7248;&#x672C;&#x7684; <code>fcitx.vim</code> &#x548C; <code>fcitx.el</code> &#x901A;&#x8FC7;&#x8FD9;&#x4E2A;&#x7A0B;&#x5E8F;&#x6765;&#x548C; <code>fcitx</code> &#x8FDB;&#x884C;&#x4EA4;&#x4E92;&#x3002;&#x4E8E;&#x662F;&#x6211;&#x6536;&#x5230;&#x542F;&#x53D1;&#xFF0C;&#x5982;&#x679C;&#x5728; OS X &#x4E0B;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A; <code>fcitx-remote</code> &#xFF0C;&#x548C; <code>fcitx</code> &#x4FDD;&#x6301;&#x4E00;&#x81F4;&#x7684;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#xFF0C; <code>fcitx.vim</code> &#x548C; <code>fcitx.el</code> &#x5C31;&#x53EF;&#x4EE5;&#x5728; OS X &#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x4E86;&#x3002;&#x6240;&#x4EE5;&#x6709;&#x4E86;&#x8FD9;&#x4E2A;&#x9879;&#x76EE;&#xFF1A;<a href="https://github.com/CodeFalling/fcitx-remote-for-osx" target="_blank" rel="external">CodeFalling/fcitx-remote-for-osx</a>
</p>

<a id="more"></a>
</div>
</div>
<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">&#x5B89;&#x88C5;</h2>
<div class="outline-text-2" id="text-3">
</div><div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1">homebrew</h3>
<div class="outline-text-3" id="text-3-1">
<div class="org-src-container">

<figure class="highlight"><table><tr><td class="code"><pre><span class="line">brew install fcitx-remote-for-osx --with-input-method=baidu-pinyin</span><br></pre></td></tr></table></figure>
</div>

<p>
<code>--with-input-method=baidu-pinyin</code> &#x8868;&#x793A;&#x4F60;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x767E;&#x5EA6;&#x62FC;&#x97F3;&#x8F93;&#x5165;&#x6CD5;
</p>

<p>
&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>brew info fcitx-remote-for-osx</code> &#x6765;&#x67E5;&#x770B;&#x652F;&#x6301;&#x7684;&#x66F4;&#x591A;&#x9009;&#x9879;&#x3002;
</p>

<pre class="example">
--with-input-method=
  Select input method: baidu-pinyin(default), baidu-wubi, sogou-pinyin, qq-wubi, squirrel-rime, osx-pinyin
</pre>
</div>
</div>

<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2">&#x624B;&#x5DE5;&#x5B89;&#x88C5;</h3>
<div class="outline-text-3" id="text-3-2">
<div class="org-src-container">

<figure class="highlight"><table><tr><td class="code"><pre><span class="line">git clone https://github.com/CodeFalling/fcitx-remote-for-osx
cd fcitx-remote-for-osx
xcodebuild GCC_PREPROCESSOR_DEFINITIONS=&apos;$GCC_PREPROCESSOR_DEFINITIONS CHINNESE_KEYBOARD_LAYOUT=@\&quot;com.baidu.inputmethod.BaiduIM.pinyin\&quot;&apos; install</span><br></pre></td></tr></table></figure>
</div>

<p>
&#x7F16;&#x8BD1;&#x5B8C;&#x6210;&#x540E;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#x4F1A;&#x88AB;&#x5B89;&#x88C5;&#x5230; <code>/usr/local/bin/fcitx-remote</code>
</p>

<p>
&#x6784;&#x5EFA;&#x6307;&#x4EE4;&#x770B;&#x8D77;&#x6765;&#x6BD4;&#x8F83;&#x957F;&#xFF0C;&#x662F;&#x56E0;&#x4E3A;&#x8981;&#x5B9A;&#x5236;&#x6240;&#x7528;&#x7684;&#x4E2D;&#x6587;&#x8F93;&#x5165;&#x6CD5;&#xFF0C;&#x5BF9;&#x5E94;&#x8F93;&#x5165;&#x6CD5;&#x7684; <code>imname</code> &#x53EF;&#x4EE5;&#x5728; <a href="https://github.com/CodeFalling/fcitx-remote-for-osx#install" target="_blank" rel="external">Github</a> &#x770B;&#x5230;&#xFF0C;&#x5982;&#x679C;&#x8868;&#x91CC;&#x6CA1;&#x6709;&#x4F60;&#x7528;&#x7684;&#x8F93;&#x5165;&#x6CD5;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5148;&#x5B89;&#x88C5;&#x4E86; <code>fcitx-remote</code> &#xFF0C;&#x7136;&#x540E;&#x7528; <code>fcitx-remote -n</code> &#x6765;&#x83B7;&#x53D6;&#x5F53;&#x524D;&#x7684;&#x8F93;&#x5165;&#x6CD5;&#x540D;&#xFF0C;&#x6B22;&#x8FCE;&#x4EE5;&#x4EFB;&#x4F55;&#x5F62;&#x5F0F;&#x5411;&#x6211;&#x8865;&#x5145;&#x3002;
</p>

<p>
&#x6211;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x767E;&#x5EA6;&#x62FC;&#x97F3;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x4F7F;&#x7528;&#x5176;&#x4ED6;&#x8F93;&#x5165;&#x6CD5;&#xFF0C;&#x7F16;&#x8BD1;&#x53C2;&#x6570;&#x8981;&#x505A;&#x54CD;&#x5E94;&#x7684;&#x4FEE;&#x6539;&#x3002;
</p>
</div>
</div>
<div id="outline-container-sec-3-3" class="outline-3">
<h3 id="sec-3-3">&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;</h3>
<div class="outline-text-3" id="text-3-3">
<p>
&#x5982;&#x679C;&#x4F60;&#x4E0D;&#x613F;&#x610F;&#x5B89;&#x88C5; XCode&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x53BB; <a href="https://github.com/CodeFalling/fcitx-remote-for-osx/releases/tag/0.0.1" target="_blank" rel="external">Release Prebuild binary here &#xB7; CodeFalling/fcitx-remote-for-osx</a> &#x4E0B;&#x8F7D;&#x7F16;&#x8BD1;&#x597D;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x5176;&#x590D;&#x5236;&#x5230; <code>/usr/local/bin/</code>
</p>
</div>
</div>
</div>
<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4">Emacs</h2>
<div class="outline-text-2" id="text-4">
<p>
&#x7531;&#x4E8E;&#x6211;&#x81EA;&#x5DF1;&#x662F; emacs &#x7528;&#x6237;&#x6240;&#x4EE5;&#x5148;&#x63D0; emacs&#xFF0C; <code>fcitx-remote</code> &#x53EF;&#x4EE5;&#x548C; <a href="https://github.com/cute-jumper/fcitx.el" target="_blank" rel="external">cute-jumper/fcitx.el</a> &#x914D;&#x5408;&#x4F7F;&#x7528;&#xFF0C; <del>&#x4F46;&#x662F;&#x4E0D;&#x8981;&#x4F7F;&#x7528; <code>(fcitx-prefix-keys-turn-on)</code> &#x548C; <code>(fcitx-prefix-keys-setup)</code> &#xFF08;&#x5373;&#x4E0D;&#x8981;&#x76F4;&#x63A5;&#x4F7F;&#x7528; <code>fcitx-default-setup</code> &#x4EC0;&#x4E48;&#x7684;&#xFF09;&#xFF0C;&#x4F1A;&#x5BFC;&#x81F4; emacs &#x5047;&#x6B7B;&#xFF0C;&#x539F;&#x56E0;&#x4E0D;&#x8BE6;&#x3002;&#x6211;&#x81EA;&#x5DF1;&#x4F7F;&#x7528;&#x7684;&#x914D;&#x7F6E;&#x662F;</del>
</p>

<p>
&#x4E4B;&#x524D;&#x4F7F;&#x7528;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x5361;&#x6B7B;&#xFF0C;&#x540E;&#x6765;&#x53D1;&#x73B0;&#x662F;&#x56E0;&#x4E3A;&#x6211;&#x7528;&#x7684; <code>fish-shell</code> &#xFF0C;&#x5728; emacs &#x7684;&#x914D;&#x7F6E;&#x91CC;&#x52A0;&#x4E0A;&#x4E00;&#x53E5; <code>(setq shell-file-name &quot;bash&quot;)</code> &#xFF0C;&#x95EE;&#x9898;&#x5C31;&#x5B8C;&#x7F8E;&#x89E3;&#x51B3;&#x4E86;&#x3002;
</p>
</div>
</div>

<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5">Vim</h2>
<div class="outline-text-2" id="text-5">
<p>
&#x672C;&#x6765;&#x4EE5;&#x4E3A; vim &#x662F;&#x4F7F;&#x7528;&#x4E0D;&#x4E86;&#x8FD9;&#x4E2A;&#x5C0F;&#x5DE5;&#x5177;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x540E;&#x6765;&#x53D1;&#x73B0;&#x8001;&#x7248;&#x672C;&#x7684; <code>fcitx.vim</code> &#x540C;&#x6837;&#x4F7F;&#x7528; <code>fcitx-remote</code> &#xFF0C;&#x7136;&#x540E;&#x7B80;&#x5355;&#x7684;&#x4FEE;&#x6539;&#x4E0B;&#xFF08;&#x4E0D;&#x7136;&#x4F1A;&#x5F88;&#x5361;&#xFF09;&#xFF0C;&#x653E;&#x5728;&#x4E86; <a href="https://github.com/CodeFalling/fcitx-vim-osx" target="_blank" rel="external">CodeFalling/fcitx-vim-osx</a> &#x3002;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x901A;&#x8FC7; <code>vundle</code> &#x5B89;&#x88C5;&#xFF0C;&#x8FD9;&#x4E2A;&#x7248;&#x672C;&#x4E5F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5728; Linux &#x4E0B;&#x4F7F;&#x7528;&#x3002;
</p>
</div>
</div>

<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6">&#x53CD;&#x9988;</h2>
<div class="outline-text-2" id="text-6">
<p>
&#x4F7F;&#x7528;&#x4E2D;&#x78B0;&#x5230;&#x4EFB;&#x4F55;&#x95EE;&#x9898;&#xFF0C;&#x6B22;&#x8FCE;&#x53BB; <a href="https://github.com/CodeFalling/fcitx-remote-for-osx" target="_blank" rel="external">CodeFalling/fcitx-remote-for-osx</a> &#x5F00; issue &#x6216;&#x8005;&#x76F4;&#x63A5;&#x8BC4;&#x8BBA;&#x3002;
</p>
</div>
</div>

<div style="font-size: 14px;padding: 5px;line-height: 20px;border: 1px solid;"><a href="javascript: editAtGithub();" target="_blank" rel="external">Edit Me at Github</a> - <a href="javascript: editAtGithub(true)" target="_blank" rel="external">Org Source</a> - Last Updated 2016-04-21 &#x56DB; 19:49.<br>Render by <a href="https://github.com/CodeFalling/hexo-renderer-org" target="_blank" rel="external">hexo-renderer-org</a> with <a href="http://www.gnu.org/software/emacs/" target="_blank" rel="external">Emacs</a> 25.0.92.1 (<a href="http://orgmode.org" target="_blank" rel="external">Org</a> mode 8.2.10)</div>
</div></article></div></section><footer><div class="paginator"><a href="/2015/11/13/use-emacs-to-renderer-org-in-command-line/" class="prev">PREV</a><a href="/2015/11/01/Mackup-your-dotfiles/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'codefalling';
var disqus_identifier = '2015/11/02/fcitx-vim-for-OS-X/';
var disqus_title = '完美解决 Mac 下 Vim/Emacs 的输入法切换问题';
var disqus_url = 'http://codefalling.com/2015/11/02/fcitx-vim-for-OS-X/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//codefalling.disqus.com/count.js" async></script><div class="copyright"><p>© 2016 <a href="http://codefalling.com">codefalling</a>, unless otherwise noted.</p></div></footer></div><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-72449503-1",'auto');ga('send','pageview');</script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>